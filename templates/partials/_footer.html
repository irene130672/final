<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<div id="content-wrapper">
    <footer id="main-footer" class="py-4 bg-primary text-white">
        <div class="container">
            <div class="row">
                <!-- Contact Information -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <h5 class="mb-3 border-bottom pb-2">Contact Information</h5>
                    <div class="contact-info">
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fas fa-phone me-3" style="width: 20px;"></i>
                            <span>(852)-555-5555</span>
                        </div>
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fas fa-envelope-open me-3" style="width: 20px;"></i>
                            <span>
                                <a href="mailto:contact@freelancergo.co" class="text-white text-decoration-none">
                                    contact@freelancergo.co
                                </a>
                            </span>
                        </div>
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fa-solid fa-clock me-3" style="width: 20px;"></i>
                            <span>Office Hours: 10:00AM - 7:00PM</span>
                        </div>
                        <div class="d-flex align-items-start">
                            <i class="fa-solid fa-location-dot me-3 mt-1" style="width: 20px;"></i>
                            <span>Room 801, Wong Tze Building, 71 Hoi Yuen Road, Kwun Tong, Kowloon, Hong Kong</span>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5 class="mb-3 border-bottom pb-2">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <a href="{% url 'pages:index' %}" class="text-white text-decoration-none">
                                <i class="fas fa-home me-2"></i>Home
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="{% url 'pages:about' %}" class="text-white text-decoration-none">
                                <i class="fas fa-info-circle me-2"></i>About
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="{% url 'listings:index' %}" class="text-white text-decoration-none">
                                <i class="fas fa-briefcase me-2"></i>Job Listings
                            </a>
                        </li>
                        {% if user.is_authenticated %}
                        <li class="mb-2">
                            <a href="{% url 'accounts:dashboard' %}" class="text-white text-decoration-none">
                                <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                            </a>
                        </li>
                        {% else %}
                        <li class="mb-2">
                            <a href="{% url 'accounts:login' %}" class="text-white text-decoration-none">
                                <i class="fas fa-sign-in-alt me-2"></i>Login
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="{% url 'accounts:register' %}" class="text-white text-decoration-none">
                                <i class="fas fa-user-plus me-2"></i>Register
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
                
                <!-- Map Section -->
                <div class="col-lg-6 col-md-12 mb-4">
                    <h5 class="mb-3 border-bottom pb-2">Find Us on Map</h5>
                    <div class="map-container rounded overflow-hidden shadow-lg position-relative">
                        <div class="map-placeholder position-absolute top-0 start-0 w-100 h-100 bg-light d-flex align-items-center justify-content-center text-center p-4" style="z-index: 1; display: flex;">
                            <div>
                                <i class="fas fa-map-marker-alt fa-2x mb-3 text-danger"></i>
                                <p class="mb-0">
                                    Map loading...
                                    <br>
                                    <small class="text-muted">If map doesn't load, click the button below</small>
                                </p>
                            </div>
                        </div>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3691.676418824229!2d114.22431477499293!3d22.31217637969453!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3404014f5c6c0001%3A0x6e5f4b2b9b4c4c4c!2sWong%20Tze%20Building%2C%2071%20Hoi%20Yuen%20Rd%2C%20Kwun%20Tong%2C%20Hong%20Kong!5e0!3m2!1sen!2sus!4v1690000000000&q=Room+801+Wong+Tze+Building+71+Hoi+Yuen+Road+Kwun+Tong+Kowloon+Hong+Kong&z=17&output=embed&maptype=roadmap&markers=color:red%7Clabel:Office%7C22.312176,114.226503"
                                width="100%"
                                height="250"
                                style="border:0; position: relative; z-index: 2;"
                                allowfullscreen=""
                                loading="lazy"
                                referrerpolicy="no-referrer-when-downgrade"
                                title="Freelance Go Office Location - Room 801, Wong Tze Building"
                                onload="document.querySelector('.map-placeholder').style.display='none';"
                                onerror="document.querySelector('.map-placeholder').style.display='flex';">
                        </iframe>
                    </div>
                    <div class="mt-3 text-center">
                        <small class="d-block mb-2">
                            <i class="fas fa-map-pin me-1 text-danger"></i>
                            Room 801, Wong Tze Building, 71 Hoi Yuen Road, Kwun Tong, Kowloon, Hong Kong
                        </small>
                        <div class="d-flex justify-content-center gap-2">
                            <a href="https://www.google.com/maps/search/?api=1&query=Room+801+Wong+Tze+Building+71+Hoi+Yuen+Road+Kwun+Tong+Kowloon+Hong+Kong"
                               target="_blank"
                               class="btn btn-sm btn-outline-light">
                                <i class="fas fa-external-link-alt me-1"></i>
                                Open in Google Maps
                            </a>
                            <button onclick="refreshMap()"
                                    class="btn btn-sm btn-outline-light">
                                <i class="fas fa-redo me-1"></i>
                                Reload Map
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Copyright -->
            <div class="row mt-4 pt-3 border-top">
                <div class="col-12 text-center">
                    <p class="mb-0">
                        Copyright &copy;
                        <span class="year"></span> Freelance Go. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>
</div>
<style>
    /* Footer Styles */
    #main-footer {
        font-size: 0.95rem;
    }
    
    #main-footer h5 {
        font-weight: 600;
        letter-spacing: 0.5px;
    }
    
    #main-footer a {
        transition: all 0.3s ease;
    }
    
    #main-footer a:hover {
        color: #cce5ff !important;
        transform: translateX(5px);
    }
    
    .contact-info div {
        transition: transform 0.2s ease;
    }
    
    .contact-info div:hover {
        transform: translateX(3px);
    }
    
    .map-container {
        position: relative;
        min-height: 250px;
        transition: transform 0.3s ease;
    }
    
    .map-container:hover {
        transform: translateY(-3px);
    }
    
    /* Email link specific styles */
    #main-footer a[href^="mailto:"] {
        border-bottom: 1px dashed rgba(255, 255, 255, 0.5);
    }
    
    #main-footer a[href^="mailto:"]:hover {
        border-bottom: 1px solid #cce5ff;
        text-decoration: none;
    }
    
    /* Pin animation */
    @keyframes pinPulse {
        0% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.2); opacity: 0.8; }
        100% { transform: scale(1); opacity: 1; }
    }
    
    .fa-map-pin {
        animation: pinPulse 2s infinite;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        #main-footer {
            text-align: center;
        }
        
        #main-footer .d-flex {
            justify-content: center;
        }
        
        .contact-info div {
            justify-content: center;
        }
        
        .map-container {
            margin-top: 1rem;
        }
    }
</style>
<script>
    // Set current year in copyright
    document.querySelector('.year').textContent = new Date().getFullYear();
    
    function refreshMap() {
        const mapIframe = document.querySelector('.map-container iframe');
        if (mapIframe) {
            // Show loading placeholder
            const placeholder = document.querySelector('.map-placeholder');
            placeholder.style.display = 'flex';
            
            // Reload the iframe with a cache-busting parameter
            const currentSrc = mapIframe.src;
            const separator = currentSrc.includes('?') ? '&' : '?';
            mapIframe.src = currentSrc + separator + 't=' + new Date().getTime();
            
            // Hide placeholder after a delay
            setTimeout(() => {
                placeholder.style.display = 'none';
            }, 2000);
        }
    }
    
    // Ensure map loads properly
    document.addEventListener('DOMContentLoaded', function() {
        const mapIframe = document.querySelector('.map-container iframe');
        if (mapIframe) {
            // Force the iframe to load
            setTimeout(() => {
                mapIframe.style.opacity = '1';
                // Try to trigger a reload if it's not loading
                if (mapIframe.contentWindow && mapIframe.contentWindow.location.href === 'about:blank') {
                    refreshMap();
                }
            }, 1000);
        }
    });
</script>
